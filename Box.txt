import java.lang.Math;

class Box{
    int width;
    int height;
    int currentAngle;
    Coordinates NW = new Coordinates();
    Coordinates NE = new Coordinates();
    Coordinates SW =  new Coordinates();
    Coordinates SE = new Coordinates();
	ArrayList<Coordinates> points = new ArrayList<Coordinates>();
    
    Box(int w, int h){
		if(w > h){
			System.out.println("Width cannot be greater than height. Pls try again. Exiting...");
			return;
		}
        width = w;
    	height = h;
    }
	
	public int getCurrentAngle(){
		return currentAngle;
    }
	
    public void setCurrentAngle(int angle){
            currentAngle = angle;
    }
		
	public void initBox(int startx, int starty){
		SW.setCoordinates(startx, starty);
		
		int currentAngle = this.getCurrentAngle();
		int oppositeAngle;
		int adjustedCurrentAngle;

		//This one works too
		if(currentAngle > 0 && currentAngle < 90){
			oppositeAngle = 90-currentAngle;
			adjustedCurrentAngle = currentAngle;
			
			if(adjustedCurrentAngle < 45){
				int yOffsetWidthWise = (int) (0.5+Math.abs(width/Math.tan(Math.toRadians(oppositeAngle))));
				int xOffsetHeightWise = (int) (0.5+Math.abs(Math.tan(Math.toRadians(adjustedCurrentAngle)))*height);

				NW.setCoordinates(SW.getXCoordinate()+xOffsetHeightWise, SW.getYCoordinate()+height);
				SE.setCoordinates(SW.getXCoordinate()+width, SW.getYCoordinate()-yOffsetWidthWise);
				NE.setCoordinates(SE.getXCoordinate()+xOffsetHeightWise, SE.getYCoordinate()+height);
			}
			else if(adjustedCurrentAngle > 45){
				NW.setCoordinates(SW.getXCoordinate()+height, SW.getYCoordinate()+height);
				SE.setCoordinates(SW.getXCoordinate()-width, SW.getYCoordinate()+width);
				NE.setCoordinates(SE.getXCoordinate()+height, SE.getYCoordinate()+height);
			}
			//Angle is exactly 45
			else{
				NW.setCoordinates(SW.getXCoordinate()+height, SW.getYCoordinate()+height);
				SE.setCoordinates(SW.getXCoordinate()-width, SW.getYCoordinate()+width);
				NE.setCoordinates(SE.getXCoordinate()+height, SE.getYCoordinate()+height);
			}
		}
		//This one doesn't work still; changed the one under > 45 to be width/<everything else>; changed the one under < 45 to be width*<ee>
		else if(currentAngle > 90 && currentAngle < 180){
			oppositeAngle = 90-currentAngle;
			adjustedCurrentAngle = currentAngle-90;
			
			if(adjustedCurrentAngle < 45){
				int yOffsetWidthWise = (int) (0.5+Math.abs(width*Math.tan(Math.toRadians(oppositeAngle))));
				int xOffsetHeightWise = (int) (0.5+Math.abs(height*Math.tan(Math.toRadians(adjustedCurrentAngle))));

				NW.setCoordinates(SW.getXCoordinate()+xOffsetHeightWise, SW.getYCoordinate()-height);
				SE.setCoordinates(SW.getXCoordinate()-width, SW.getYCoordinate()-yOffsetWidthWise);
				NE.setCoordinates(SE.getXCoordinate()+xOffsetHeightWise, SE.getYCoordinate()-height);
			}
			else if(adjustedCurrentAngle > 45){
				int xOffsetWidthWise = (int) (0.5+Math.abs(width/Math.tan(Math.toRadians(oppositeAngle))));
				int yOffsetHeightWise = (int) (0.5+Math.abs(height/Math.tan(Math.toRadians(adjustedCurrentAngle))));

				NW.setCoordinates(SW.getXCoordinate()+height, SW.getYCoordinate()-yOffsetHeightWise);
				SE.setCoordinates(SW.getXCoordinate()-xOffsetWidthWise, SW.getYCoordinate()-width);
				NE.setCoordinates(SE.getXCoordinate()+height, SE.getYCoordinate()-yOffsetHeightWise);
			}
			//Angle is exactly 45
			else{
				NW.setCoordinates(1,1);
				SE.setCoordinates(1,1);
				NE.setCoordinates(1,1);
			}
		}
		//This one works
		else if(currentAngle > 180 && currentAngle < 270){
			oppositeAngle =  90-currentAngle;
			adjustedCurrentAngle = currentAngle-180;
			
			if(adjustedCurrentAngle < 45){
				int yOffsetWidthWise = (int) (0.5+Math.abs(width/Math.tan(Math.toRadians(oppositeAngle))));
				int xOffsetHeightWise = (int) (0.5+Math.abs(Math.tan(Math.toRadians(adjustedCurrentAngle)))*height);
				System.out.println("Angle is between 180 and 270, and the offsets, which fucking should be 0 are: xOffsetWid");

				NW.setCoordinates(SW.getXCoordinate()-xOffsetHeightWise, SW.getYCoordinate()-height);
				SE.setCoordinates(SW.getXCoordinate()-width, SW.getYCoordinate()+yOffsetWidthWise);
				NE.setCoordinates(SE.getXCoordinate()-xOffsetHeightWise, SE.getYCoordinate()-height);
				return;
			}
			else if(adjustedCurrentAngle > 45){
				int xOffsetWidthWise = (int) (0.5+Math.abs(Math.tan(Math.toRadians(oppositeAngle)))*width);
				int yOffsetHeightWise = (int) (0.5+Math.abs(height/Math.tan(Math.toRadians(adjustedCurrentAngle))));

				NW.setCoordinates(SW.getXCoordinate()-height, SW.getYCoordinate()-yOffsetHeightWise);
				SE.setCoordinates(SW.getXCoordinate()-xOffsetWidthWise, SW.getYCoordinate()+width);
				NE.setCoordinates(SE.getXCoordinate()-height, SE.getYCoordinate()-yOffsetHeightWise);
				return;
			}
			//Angle is exactly 45
			else{
				int halfWidth = (int) 0.5*(this.width);
				int halfHeight = (int) 0.5*(this.height);
				NW.setCoordinates(1,1);
				SE.setCoordinates(1,1);
				NE.setCoordinates(1,1);
				return;
			}
		}
		//Neither does this one; NEVER MIND IT WORKS NOW :D
		else if(currentAngle > 270 && currentAngle < 360){
			//Handle possible angle overflow?
			oppositeAngle =  90-currentAngle;
			adjustedCurrentAngle = currentAngle-270;
			
			if(adjustedCurrentAngle < 45){
				//Look closer at these; should just be equalling 0 @ 271
				
				//becomes 0.034; THIS ONE WORKS
				int xOffsetWidthWise = (int) (0.5+Math.abs(width*Math.tan(Math.toRadians(oppositeAngle))));
				//becomes 0.069; THIS ONE DOES NOT WORK, YEILDS 229
				//should be height*<everything else>; changed now
				int yOffsetHeightWise = (int) (0.5+Math.abs(height*Math.tan(Math.toRadians(adjustedCurrentAngle))));

				NW.setCoordinates(SW.getXCoordinate()-height, SW.getYCoordinate()+yOffsetHeightWise);
				SE.setCoordinates(SW.getXCoordinate()+xOffsetWidthWise, SW.getYCoordinate()+width);
				NE.setCoordinates(SE.getXCoordinate()-height, SE.getYCoordinate()+yOffsetHeightWise);
			}
			else if(adjustedCurrentAngle > 45){
				//Same problem with these
				
				//Works fine and yields 0
				int yOffsetWidthWise = (int) (0.5+Math.abs(width/Math.tan(Math.toRadians(oppositeAngle))));
				//Again yields 229; change to height/<everything else>; this works :D
				int xOffsetHeightWise = (int) (0.5+Math.abs(height/Math.tan(Math.toRadians(adjustedCurrentAngle))));
				System.out.println("yOffWW: " + yOffsetWidthWise + "    xOffHW: " + xOffsetHeightWise);

				NW.setCoordinates(SW.getXCoordinate()-xOffsetHeightWise, SW.getYCoordinate()+height);
				SE.setCoordinates(SW.getXCoordinate()+width, SW.getYCoordinate()+yOffsetWidthWise);
				NE.setCoordinates(SE.getXCoordinate()-xOffsetHeightWise, SE.getYCoordinate()+height);
			}
			//Angle is exactly 45
			else{
				NW.setCoordinates(1,1);
				SE.setCoordinates(1,1);
				NE.setCoordinates(1,1);
			}
		}
		else if(currentAngle == 0){
			NW.setCoordinates(SW.getXCoordinate(), SW.getYCoordinate()+height);
			SE.setCoordinates(SW.getXCoordinate()+width, SW.getYCoordinate());
			NE.setCoordinates(SE.getXCoordinate(), SE.getYCoordinate()+height);
		}
		else if(currentAngle == 90){
			NW.setCoordinates(SW.getXCoordinate()+height, SW.getYCoordinate());
			SE.setCoordinates(SW.getXCoordinate(), SW.getYCoordinate()-width);
			NE.setCoordinates(SE.getXCoordinate()+height, SE.getYCoordinate());	
		}
		else if(currentAngle == 180){
			NW.setCoordinates(SW.getXCoordinate(), SW.getYCoordinate()-height);
			SE.setCoordinates(SW.getXCoordinate()-width, SW.getYCoordinate());
			NE.setCoordinates(SE.getXCoordinate(), SE.getYCoordinate()-height);
		}
		//Angle is 360 degrees
		else{
			NW.setCoordinates(SW.getXCoordinate(), SW.getYCoordinate()+height);
			SE.setCoordinates(SW.getXCoordinate()-width, SW.getYCoordinate());
			NE.setCoordinates(SE.getXCoordinate(), SE.getYCoordinate()+height);
		}
	}
	
	public void printCornerCoordinates(){
		System.out.println("(" + SW.getXCoordinate() + ", " + SW.getYCoordinate() + ")" +
		"(" + SE.getXCoordinate() + ", " + SE.getYCoordinate() + ")" +
		"(" + NW.getXCoordinate() + ", " + NW.getYCoordinate() + ")" +
		"(" + NE.getXCoordinate() + ", " + NE.getYCoordinate() + ")" );
		
		System.out.println("SW: x = " + SW.getXCoordinate() + ", y = " + SW.getYCoordinate());
		System.out.println("SE: x = " + SE.getXCoordinate() + ", y = " + SE.getYCoordinate());
		System.out.println("NW: x = " + NW.getXCoordinate() + ", y = " + NW.getYCoordinate());
		System.out.println("NE: x = " + NE.getXCoordinate() + ", y = " + NE.getYCoordinate());
	}

class main{
	public static void main(String args[]){
		Box b = new Box(2,4);
		b.setCurrentAngle(271);
		b.initBox(0,0);
		b.printCoordinates();
	}
}
