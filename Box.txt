import java.lang.Math;

class Box{
    int width;
    int height;
    int currentAngle;
    Coordinates NW = new Coordinates();
    Coordinates NE = new Coordinates();
    Coordinates SW =  new Coordinates();
    Coordinates SE = new Coordinates();
	ArrayList<Coordinates> points = new ArrayList<Coordinates>();
    
    Box(int w, int h){
		if(w > h){
			System.out.println("Width cannot be greater than height. Pls try again. Exiting...");
			return;
		}
        width = w;
    	height = h;
    }
	
	public int getCurrentAngle(){
		return currentAngle;
    }
	
    public void setCurrentAngle(int angle){
            currentAngle = angle;
    }
		
	public void initBox(int startx, int starty){
		SW.setCoordinates(startx, starty);
		
		int currentAngle = this.getCurrentAngle();
		int oppositeAngle;
		int adjustedCurrentAngle;

		//This one works too
		if(currentAngle > 0 && currentAngle < 90){
			oppositeAngle = 90-currentAngle;
			adjustedCurrentAngle = currentAngle;
			
			if(adjustedCurrentAngle < 45){
				int yOffsetWidthWise = (int) (0.5+Math.abs(width/Math.tan(Math.toRadians(oppositeAngle))));
				int xOffsetHeightWise = (int) (0.5+Math.abs(Math.tan(Math.toRadians(adjustedCurrentAngle)))*height);

				NW.setCoordinates(SW.getXCoordinate()+xOffsetHeightWise, SW.getYCoordinate()+height);
				SE.setCoordinates(SW.getXCoordinate()+width, SW.getYCoordinate()-yOffsetWidthWise);
				NE.setCoordinates(SE.getXCoordinate()+xOffsetHeightWise, SE.getYCoordinate()+height);
			}
			else if(adjustedCurrentAngle > 45){
				NW.setCoordinates(SW.getXCoordinate()+height, SW.getYCoordinate()+height);
				SE.setCoordinates(SW.getXCoordinate()-width, SW.getYCoordinate()+width);
				NE.setCoordinates(SE.getXCoordinate()+height, SE.getYCoordinate()+height);
			}
			//Angle is exactly 45
			else{
				NW.setCoordinates(SW.getXCoordinate()+height, SW.getYCoordinate()+height);
				SE.setCoordinates(SW.getXCoordinate()-width, SW.getYCoordinate()+width);
				NE.setCoordinates(SE.getXCoordinate()+height, SE.getYCoordinate()+height);
			}
		}
		//This one doesn't work still; changed the one under > 45 to be width/<everything else>; changed the one under < 45 to be width*<ee>
		else if(currentAngle > 90 && currentAngle < 180){
			oppositeAngle = 90-currentAngle;
			adjustedCurrentAngle = currentAngle-90;
			
			if(adjustedCurrentAngle < 45){
				int yOffsetWidthWise = (int) (0.5+Math.abs(width*Math.tan(Math.toRadians(oppositeAngle))));
				int xOffsetHeightWise = (int) (0.5+Math.abs(height*Math.tan(Math.toRadians(adjustedCurrentAngle))));

				NW.setCoordinates(SW.getXCoordinate()+xOffsetHeightWise, SW.getYCoordinate()-height);
				SE.setCoordinates(SW.getXCoordinate()-width, SW.getYCoordinate()-yOffsetWidthWise);
				NE.setCoordinates(SE.getXCoordinate()+xOffsetHeightWise, SE.getYCoordinate()-height);
			}
			else if(adjustedCurrentAngle > 45){
				int xOffsetWidthWise = (int) (0.5+Math.abs(width/Math.tan(Math.toRadians(oppositeAngle))));
				int yOffsetHeightWise = (int) (0.5+Math.abs(height/Math.tan(Math.toRadians(adjustedCurrentAngle))));

				NW.setCoordinates(SW.getXCoordinate()+height, SW.getYCoordinate()-yOffsetHeightWise);
				SE.setCoordinates(SW.getXCoordinate()-xOffsetWidthWise, SW.getYCoordinate()-width);
				NE.setCoordinates(SE.getXCoordinate()+height, SE.getYCoordinate()-yOffsetHeightWise);
			}
			//Angle is exactly 45
			else{
				NW.setCoordinates(1,1);
				SE.setCoordinates(1,1);
				NE.setCoordinates(1,1);
			}
		}
		else if(currentAngle > 180 && currentAngle < 270){
			oppositeAngle =  90-currentAngle;
			adjustedCurrentAngle = currentAngle-180;
			
			if(adjustedCurrentAngle < 45){
				int yOffsetWidthWise = (int) (0.5+Math.abs(width/Math.tan(Math.toRadians(oppositeAngle))));
				int xOffsetHeightWise = (int) (0.5+Math.abs(Math.tan(Math.toRadians(adjustedCurrentAngle)))*height);
				System.out.println("Angle is between 180 and 270, and the offsets, which fucking should be 0 are: xOffsetWid");

				NW.setCoordinates(SW.getXCoordinate()-xOffsetHeightWise, SW.getYCoordinate()-height);
				SE.setCoordinates(SW.getXCoordinate()-width, SW.getYCoordinate()+yOffsetWidthWise);
				NE.setCoordinates(SE.getXCoordinate()-xOffsetHeightWise, SE.getYCoordinate()-height);
				return;
			}
			else if(adjustedCurrentAngle > 45){
				int xOffsetWidthWise = (int) (0.5+Math.abs(Math.tan(Math.toRadians(oppositeAngle)))*width);
				int yOffsetHeightWise = (int) (0.5+Math.abs(height/Math.tan(Math.toRadians(adjustedCurrentAngle))));

				NW.setCoordinates(SW.getXCoordinate()-height, SW.getYCoordinate()-yOffsetHeightWise);
				SE.setCoordinates(SW.getXCoordinate()-xOffsetWidthWise, SW.getYCoordinate()+width);
				NE.setCoordinates(SE.getXCoordinate()-height, SE.getYCoordinate()-yOffsetHeightWise);
				return;
			}
			//Angle is exactly 45
			else{
				int halfWidth = (int) 0.5*(this.width);
				int halfHeight = (int) 0.5*(this.height);
				NW.setCoordinates(1,1);
				SE.setCoordinates(1,1);
				NE.setCoordinates(1,1);
				return;
			}
		}
		else if(currentAngle > 270 && currentAngle < 360){
			oppositeAngle =  90-currentAngle;
			adjustedCurrentAngle = currentAngle-270;
			
			if(adjustedCurrentAngle < 45){
				int xOffsetWidthWise = (int) (0.5+Math.abs(width*Math.tan(Math.toRadians(oppositeAngle))));
				int yOffsetHeightWise = (int) (0.5+Math.abs(height*Math.tan(Math.toRadians(adjustedCurrentAngle))));

				NW.setCoordinates(SW.getXCoordinate()-height, SW.getYCoordinate()+yOffsetHeightWise);
				SE.setCoordinates(SW.getXCoordinate()+xOffsetWidthWise, SW.getYCoordinate()+width);
				NE.setCoordinates(SE.getXCoordinate()-height, SE.getYCoordinate()+yOffsetHeightWise);
			}
			else if(adjustedCurrentAngle > 45){
				int yOffsetWidthWise = (int) (0.5+Math.abs(width/Math.tan(Math.toRadians(oppositeAngle))));
				int xOffsetHeightWise = (int) (0.5+Math.abs(height/Math.tan(Math.toRadians(adjustedCurrentAngle))));
				System.out.println("yOffWW: " + yOffsetWidthWise + "    xOffHW: " + xOffsetHeightWise);

				NW.setCoordinates(SW.getXCoordinate()-xOffsetHeightWise, SW.getYCoordinate()+height);
				SE.setCoordinates(SW.getXCoordinate()+width, SW.getYCoordinate()+yOffsetWidthWise);
				NE.setCoordinates(SE.getXCoordinate()-xOffsetHeightWise, SE.getYCoordinate()+height);
			}
			//Angle is exactly 45
			else{
				NW.setCoordinates(1,1);
				SE.setCoordinates(1,1);
				NE.setCoordinates(1,1);
			}
		}
		else if(currentAngle == 0){
			NW.setCoordinates(SW.getXCoordinate(), SW.getYCoordinate()+height);
			SE.setCoordinates(SW.getXCoordinate()+width, SW.getYCoordinate());
			NE.setCoordinates(SE.getXCoordinate(), SE.getYCoordinate()+height);
		}
		else if(currentAngle == 90){
			NW.setCoordinates(SW.getXCoordinate()+height, SW.getYCoordinate());
			SE.setCoordinates(SW.getXCoordinate(), SW.getYCoordinate()-width);
			NE.setCoordinates(SE.getXCoordinate()+height, SE.getYCoordinate());	
		}
		else if(currentAngle == 180){
			NW.setCoordinates(SW.getXCoordinate(), SW.getYCoordinate()-height);
			SE.setCoordinates(SW.getXCoordinate()-width, SW.getYCoordinate());
			NE.setCoordinates(SE.getXCoordinate(), SE.getYCoordinate()-height);
		}
		//Angle is 360 degrees
		else{
			NW.setCoordinates(SW.getXCoordinate(), SW.getYCoordinate()+height);
			SE.setCoordinates(SW.getXCoordinate()-width, SW.getYCoordinate());
			NE.setCoordinates(SE.getXCoordinate(), SE.getYCoordinate()+height);
		}
	}
	
	public void printCornerCoordinates(){
		System.out.println("(" + SW.getXCoordinate() + ", " + SW.getYCoordinate() + ")" +
		"(" + SE.getXCoordinate() + ", " + SE.getYCoordinate() + ")" +
		"(" + NW.getXCoordinate() + ", " + NW.getYCoordinate() + ")" +
		"(" + NE.getXCoordinate() + ", " + NE.getYCoordinate() + ")" );
		
		System.out.println("SW: x = " + SW.getXCoordinate() + ", y = " + SW.getYCoordinate());
		System.out.println("SE: x = " + SE.getXCoordinate() + ", y = " + SE.getYCoordinate());
		System.out.println("NW: x = " + NW.getXCoordinate() + ", y = " + NW.getYCoordinate());
		System.out.println("NE: x = " + NE.getXCoordinate() + ", y = " + NE.getYCoordinate());
	}
	public boolean checkCollision(){	
		if(SW.getXCoordinate() < SE.getXCoordinate(){
			if(NW.getYCoordinate > NE.getYCoordinate()){
				collisionNW.setCoordinates(SW.getXCoordinate(), NW.getYCoordinate());
				collisionNE.setCoordinates(NE.getXCoordinate(), NW.getYCoordinate());
				collisionSW.setCoordinates(SE.getXCoordinate(), SW.getYCoordinate());
				collisionSE.setCoordinates(NE.getXCoordinate(), SW.getYCoordinate());
				//calc changes and offset for SE to SW
				//calc changes offset for NE to NW
				//calc changes and offset for SE to NE
			}
			//NW Y < NE Y
			else{
				collisionNW.setCoordinates(SE.getXCoordinate(), SW.getYCoordinate());
				collisionNE.setCoordinates(NW.getXCoordinate(), SW.getYCoordinate());
				collisionSW.setCoordinates(SE.getXCoordinate(), NE.getYCoordinate());
				collisionSE.setCoordinates(NW.getXCoordinate(), NE.getYCoordinate());
			}
		}
		else if(SW.getXCoordinate < SE.getXCoordinate()){
			if(NW.getyCoordinate() > NE.getYCoordinate()){
				collisionNW.setCoordinates(SE.getXCoordinate(), SW.getYCoordinate());
				collisionNE.setCoordinates(NW.getXCoordinate(), SW.getYCoordinate());
				collisionSW.setCoordinates(NW.getXCoordinate(), NE.getYCoordinate());
				collisionSE.setCoordinates(SE.getXCoordinate(), NE.getYCoordinate());	
			}
			//NW Y < NE Y
			else{
				collisionNW.setCoordinates(NE.getXCoordinate(), NW.getYCoordinate());
				collisionNE.setCoordinates(SW.getXCoordinate(), NW.getYCoordinate());
				collisionSW.setCoordinates(NE.getXCoordinate(), SE.getYCoordinate());
				collisionSE.setCoordinates(SW.getXCoordinate(), SE.getYCoordinate());	
			}
		}
		//box is at an even angle
		else{
			if(box.getCurrentAngle() == 0){
			
			}
			else if(box.getCurrentAngle() == 90){
			
			}
			else if(box.getCurrentAngle() == 180){
			
			}
			else if (box.getCurrentAngle() == 270){
			
			}
			else{
			
			}
		}
	}
}

class main{
	public static void main(String args[]){
		Box b = new Box(2,4);
		b.setCurrentAngle(271);
		b.initBox(0,0);
		b.printCoordinates();
	}
}
